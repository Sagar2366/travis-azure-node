language: node_js

node_js:
  - "8"

before_install:
  - npm install -g npm@latest

cache:
  directories:
    - "node_modules"

before_install :
  - ./before_install.sh

install:
  - npm install http

after_install :
  - ./after_install.sh


before_install :
  - ./before_script.sh

script :
  - node app.js

after_script :
  - ./after_script.sh
    
before_deploy :
  - ./before_deploy.sh

deploy :
  - provider : azure_web_apps
  - username : gslazure-travis-node-user
  - password : gslazure-travis-node-pwd
  - site : https://gslazure-travis-node2.azurewebsites.net
  - verbose : true
  - on:
    all_branches: true

after_deploy :
  - ./after_deploy.sh